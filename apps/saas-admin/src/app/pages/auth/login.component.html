<div class="login-container">
    <div class="login-card">
        <div class="login-header">
            <div class="logo-box">
                <span nz-icon nzType="thunderbolt" nzTheme="fill"></span>
            </div>
            <h1>Acciona <span class="accent">Master</span></h1>
            <p class="subtitle text-uppercase">Secure Gateway</p>
        </div>

        <form nz-form [formGroup]="validateForm" (ngSubmit)="submitForm()" nzLayout="vertical">
            <nz-form-item>
                <nz-form-label [nzNoColon]="true">Email Corporativo</nz-form-label>
                <nz-form-control nzErrorTip="Por favor ingresa un correo válido">
                    <nz-input-group nzPrefixIcon="user">
                        <input type="email" nz-input formControlName="email" placeholder="admin@cerca.co" />
                    </nz-input-group>
                </nz-form-control>
            </nz-form-item>

            <nz-form-item>
                <nz-form-label [nzNoColon]="true">Contraseña</nz-form-label>
                <nz-form-control nzErrorTip="Por favor ingresa tu contraseña">
                    <nz-input-group nzPrefixIcon="lock" [nzSuffix]="suffixTemplate">
                        <input [type]="passwordVisible ? 'text' : 'password'" nz-input formControlName="password"
                            placeholder="••••••••••••" />
                    </nz-input-group>
                    <ng-template #suffixTemplate>
                        <span nz-icon [nzType]="passwordVisible ? 'eye-invisible' : 'eye'"
                            (click)="passwordVisible = !passwordVisible"></span>
                    </ng-template>
                </nz-form-control>
            </nz-form-item>

            <div nz-row class="login-options">
                <div nz-col [nzSpan]="12">
                    <label nz-checkbox formControlName="remember">Recordarme</label>
                </div>
                <div nz-col [nzSpan]="12" class="text-right">
                    <a class="login-form-forgot">¿Olvidaste tu clave?</a>
                </div>
            </div>

            @if (error()) {
            <nz-alert nzType="error" [nzMessage]="error()" nzShowIcon class="login-alert"></nz-alert>
            }

            <button nz-button nzType="primary" nzBlock class="login-button" [nzLoading]="loading()"
                [disabled]="!validateForm.valid">
                Iniciar Sesión Master
            </button>
        </form>

        <div class="login-footer">
            <p>v2.4.0 Final • Cerca Cloud</p>
            <p>&copy; 2026 Ecosistema Cerca S.A.S.</p>
        </div>
    </div>
</div>