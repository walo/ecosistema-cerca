<nz-input-group [nzPrefix]="prefixTemplateRef" [nzSuffix]="suffixTemplateRef" [class.has-error]="error">
    <input nz-input [type]="inputType" [placeholder]="placeholder" [disabled]="disabled" [(ngModel)]="value"
        (ngModelChange)="onChange($event)" (blur)="onTouched()" [nzSize]="size" />
</nz-input-group>

<ng-template #prefixTemplate>
    <span nz-icon [nzType]="prefix" *ngIf="prefix"></span>
</ng-template>

<ng-template #suffixTemplate>
    <ng-container *ngIf="type === 'password'">
        <span nz-icon [nzType]="passwordVisible ? 'eye-invisible' : 'eye'" (click)="togglePasswordVisibility()"
            class="password-toggle"></span>
    </ng-container>
    <ng-container *ngIf="type !== 'password' && suffix">
        <span nz-icon [nzType]="suffix"></span>
    </ng-container>
</ng-template>